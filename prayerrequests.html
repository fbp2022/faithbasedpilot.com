<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Forge ¬∑ Prayer Requests</title>
  <meta name="color-scheme" content="dark light" />
  <meta
    name="description"
    content="Private prayer wall for men in The Forge to share prayer needs and stand in the gap for one another."
  />

  <style>
    /* ================== BASE / THEME ================== */
    :root {
      --bg-main: #05070f;
      --bg-elevated: rgba(10, 14, 30, 0.95);
      --bg-card: rgba(9, 14, 32, 0.95);
      --bg-card-soft: rgba(18, 24, 48, 0.9);
      --bg-deep: #000000;

      --bg-header-strong: rgba(0, 0, 0, 0.9);
      --bg-header-soft: rgba(0, 0, 0, 0.7);
      --bg-mobile-overlay: rgba(2, 4, 10, 0.97);

      --border-subtle: rgba(0, 255, 200, 0.25);
      --accent: #00ffd0;
      --accent-soft: rgba(0, 255, 200, 0.55);
      --accent-alt: #00aaff;

      --text-main: #e3f6ff;
      --text-muted: #a6bfdc;
      --text-soft: #7e91b8;
      --danger: #ff4b4b;

      --shadow-strong: 0 0 35px rgba(0, 0, 0, 0.9);
      --shadow-accent: 0 0 24px rgba(0, 255, 200, 0.45);

      --nav-height: 64px;
      --radius-lg: 18px;
      --radius-md: 12px;
      --radius-input: 999px;
      --radius-full: 999px;

      --transition-fast: 0.18s ease;
      --transition-med: 0.25s ease;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    .btn-danger {
      background: rgba(255, 75, 75, 0.15);
      border: 1px solid rgba(255, 75, 75, 0.4);
      color: #ff4b4b !important;
    }

    .btn-danger:hover {
      background: rgba(255, 75, 75, 0.25);
      box-shadow: 0 0 12px rgba(255, 75, 75, 0.4);
    }

    html,
    body {
      height: 100%;
      scroll-behavior: smooth;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(
        circle at 0% 0%,
        var(--bg-card-soft) 0,
        var(--bg-main) 40%,
        var(--bg-deep) 100%
      );
      color: var(--text-main);
      -webkit-font-smoothing: antialiased;

      /* Push page content below the fixed header */
      padding-top: var(--nav-height);
    }

    .ambient-orbit {
      position: fixed;
      inset: -40%;
      pointer-events: none;
      z-index: -1;
      background:
        radial-gradient(circle at 10% 0%, rgba(0, 255, 200, 0.16), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(0, 140, 255, 0.18), transparent 60%);
      opacity: 0.75;
      animation: orbit 30s linear infinite alternate;
      mix-blend-mode: screen;
    }

    @keyframes orbit {
      0% {
        transform: translate3d(0, 0, 0) scale(1);
      }
      50% {
        transform: translate3d(-3%, 4%, 0) scale(1.05);
      }
      100% {
        transform: translate3d(3%, -4%, 0) scale(1.02);
      }
    }

    .shell {
      max-width: 1120px;
      margin: 0 auto;
      padding: 0 1.5rem 3.5rem;
    }

    /* ===== FIXED HEADER ON ALL DEVICES ===== */
   /* ================== HEADER / NAV (MATCH THEFORGE.HTML) ================== */
  header {
  position: sticky;
  position: fixed;
  top: 0;
  z-index: 40;
  backdrop-filter: blur(16px);
  background: linear-gradient(
    to bottom,
    var(--bg-header-strong),
    var(--bg-header-soft),
    transparent
  );
  border-bottom: 1px solid var(--border-subtle);
}


    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: var(--nav-height);
      max-width: 1120px;
      margin: 0 auto;
      padding: 0 1.5rem;
      gap: 1.5rem;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      white-space: nowrap;
    }

    .brand-logo {
      width: 40px;
      height: 40px;
      border-radius: 999px;
      object-fit: cover;
      border: 1px solid rgba(248, 250, 252, 0.5);
      box-shadow:
        0 0 0 1px rgba(15, 23, 42, 0.9),
        0 12px 30px rgba(0, 0, 0, 0.7);
      background: radial-gradient(circle at 30% 30%, #facc15, #f97316);
    }

    .brand-text-main {
      font-size: 1rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      font-weight: 600;
      color: var(--text-main);
    }

    .brand-text-sub {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--text-soft);
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 1.35rem;
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--text-muted);
      position: relative;
      padding-bottom: 1.2rem;
      cursor: pointer;
      transition: color var(--transition-fast);
    }

    .nav-links a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 0;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--accent), var(--accent-alt));
      transition: width var(--transition-fast);
    }

    .nav-links a:hover {
      color: var(--text-main);
    }

    .nav-links a:hover::after {
      width: 100%;
    }

    .nav-links a.active {
      color: var(--text-main);
    }

    .nav-links a.active::after {
      width: 100%;
    }

    .nav-actions {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .user-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-soft);
    }

    .account-btn {
      border-radius: var(--radius-full);
      border: 1px solid var(--border-subtle);
      padding: 0.35rem 0.9rem;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      background: transparent;
      color: var(--accent);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      transition:
        background var(--transition-fast),
        border-color var(--transition-fast),
        transform var(--transition-fast),
        box-shadow var(--transition-fast),
        color var(--transition-fast);
    }

    .account-btn:hover {
      background: var(--bg-card-soft);
      transform: translateY(-1px);
      box-shadow: 0 0 16px rgba(0, 255, 200, 0.35);
      color: var(--text-main);
    }

    .account-btn span.icon {
      font-size: 0.95rem;
    }

    .hamburger {
      display: none;
      width: 40px;
      height: 34px;
      border-radius: 999px;
      border: 1px solid var(--border-subtle);
      background: var(--bg-elevated);
      cursor: pointer;
      align-items: center;
      justify-content: center;
      gap: 4px;
      flex-direction: column;
      padding: 6px 0;
      transition:
        background var(--transition-fast),
        box-shadow var(--transition-fast),
        transform var(--transition-fast);
    }

    .hamburger-line {
      width: 18px;
      height: 2px;
      border-radius: 999px;
      background: var(--text-muted);
      transition:
        transform var(--transition-fast),
        opacity var(--transition-fast),
        background var(--transition-fast);
    }

    .hamburger.is-open .hamburger-line:nth-child(1) {
      transform: translateY(4px) rotate(45deg);
      background: var(--accent);
    }

    .hamburger.is-open .hamburger-line:nth-child(2) {
      opacity: 0;
    }

    .hamburger.is-open .hamburger-line:nth-child(3) {
      transform: translateY(-4px) rotate(-45deg);
      background: var(--accent);
    }

    .mobile-nav {
      display: none;
      position: fixed;
      inset: var(--nav-height) 0 0 0;
      background:
        radial-gradient(circle at 0 0, rgba(0, 255, 200, 0.16), transparent 60%),
        radial-gradient(circle at 100% 100%, rgba(0, 140, 255, 0.18), transparent 60%),
        var(--bg-mobile-overlay);
      backdrop-filter: blur(20px);
      z-index: 35;
    }

    .mobile-nav.open {
      display: block;
    }

    .mobile-nav-inner {
      max-width: 1120px;
      margin: 0 auto;
      padding: 1.25rem 1.5rem 2rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .mobile-nav-inner a,
    .mobile-nav-inner button.mobile-account-btn {
      text-decoration: none;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--text-muted);
      padding: 0.6rem 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      cursor: pointer;
      transition: color var(--transition-fast), border-color var(--transition-fast);
      background: transparent;
      text-align: left;
    }

    .mobile-nav-inner a:last-child,
    .mobile-nav-inner button.mobile-account-btn:last-child {
      border-bottom: none;
    }

    .mobile-nav-inner a:hover,
    .mobile-nav-inner button.mobile-account-btn:hover {
      color: var(--accent);
      border-color: rgba(0, 255, 200, 0.5);
    }

    .mobile-account-meta {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-soft);
      margin-bottom: 0.25rem;
    }

    @media (max-width: 840px) {
      .nav-links {
        display: none;
      }

      .hamburger {
        display: flex;
      }

      /* hide desktop account button on mobile */
      .account-btn {
        display: none;
      }
    }

    /* ================== PAGE LAYOUT ================== */
    main {
      padding-top: 2.6rem;
    }

    .page-header-kicker {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.22em;
      color: var(--text-soft);
      margin-bottom: 0.9rem; /* was 0.4rem */
    }

    .page-title {
      font-size: clamp(2rem, 3.4vw, 2.6rem);
      letter-spacing: 0.18em;
      text-transform: uppercase;
      margin-bottom: 0.75rem;
    }

    .page-intro {
      font-size: 0.95rem;
      color: var(--text-muted);
      max-width: 640px;
      line-height: 1.7;
      margin-bottom: 1.9rem;
    }

    .top-grid {
      display: grid;
      grid-template-columns: minmax(0, 3.1fr) minmax(0, 2.3fr);
      gap: 1.75rem;
      margin-bottom: 2.3rem;
    }

    .card {
      border-radius: var(--radius-lg);
      background: var(--bg-card);
      border: 1px solid var(--border-subtle);
      padding: 1.7rem 1.5rem;
      box-shadow: var(--shadow-strong);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at 0 0, rgba(0,255,200,0.12), transparent 60%),
        radial-gradient(circle at 100% 100%, rgba(0,140,255,0.18), transparent 65%);
      mix-blend-mode: screen;
      opacity: 0.4;
      pointer-events: none;
    }

    .card-inner {
      position: relative;
      z-index: 1;
    }

    .card-kicker {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      color: var(--text-soft);
      margin-bottom: 0.3rem;
    }

    .card-title-main {
      font-size: 1.15rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      margin-bottom: 1.05rem;
    }

    .card-text {
      font-size: 0.9rem;
      color: var(--text-muted);
      line-height: 1.7;
    }

    /* ================== PRAYER FORM ‚Äì FLOATING LABELS ================== */
    .prayer-form {
      display: flex;
      flex-direction: column;
      gap: 1.35rem;
      margin-top: 0.4rem;
    }

    .field-group {
      position: relative;
      margin-bottom: 0.15rem;
    }

    .field-control {
      width: 100%;
      border-radius: var(--radius-input);
      border: 1px solid rgba(148, 163, 184, 0.3);
      background: radial-gradient(
        circle at 0 0,
        rgba(15, 23, 42, 0.85),
        rgba(15, 23, 42, 0.95)
      );
      color: var(--text-main);
      padding: 0.95rem 1.1rem 0.75rem;
      font-size: 0.9rem;
      outline: none;
      box-shadow:
        inset 0 0 0 1px rgba(15, 23, 42, 0.9),
        0 0 0 rgba(0, 255, 200, 0);
      transition:
        border-color var(--transition-fast),
        box-shadow var(--transition-fast),
        background var(--transition-fast),
        color var(--transition-fast);
    }

    textarea.field-control {
      border-radius: 20px;
      min-height: 140px;
      resize: none; /* don't allow manual resizing; JS will auto-grow */
      padding-top: 1.2rem;
    }

    .field-label {
      position: absolute;
      left: 1.1rem;
      top: 50%;
      transform: translateY(-50%);
      font-size: 0.85rem;
      color: var(--text-soft);
      pointer-events: none;
      transition:
        transform var(--transition-fast),
        font-size var(--transition-fast),
        top var(--transition-fast),
        color var(--transition-fast),
        opacity var(--transition-fast);
      opacity: 0.85;
    }

    .field-group.textarea .field-label {
      top: 1.15rem;
      transform: translateY(0);
    }

    .field-control::placeholder {
      color: transparent;
    }

    .field-control:focus {
      border-color: var(--accent-soft);
      box-shadow:
        0 0 0 1px rgba(0, 255, 200, 0.5),
        0 0 22px rgba(0, 255, 200, 0.42);
      background: radial-gradient(
        circle at 0 0,
        rgba(15, 23, 42, 0.9),
        rgba(15, 23, 42, 1)
      );
    }

    .field-group.focused .field-label,
    .field-group.has-value .field-label {
      top: 0.45rem;
      transform: translateY(0);
      font-size: 0.7rem;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--accent-soft);
      opacity: 1;
    }

    .field-note {
      font-size: 0.78rem;
      color: var(--text-soft);
      margin-top: 0.15rem;
    }

    .form-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      margin-top: 0.8rem;
    }

    .btn {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.45rem;
      padding: 0.7rem 1.6rem;
      border-radius: var(--radius-full);
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      border: 1px solid var(--border-subtle);
      cursor: pointer;
      text-decoration: none;
      transition:
        transform var(--transition-fast),
        box-shadow var(--transition-fast),
        background var(--transition-fast),
        border-color var(--transition-fast),
        color var(--transition-fast);
    }

    .btn-primary {
      background: radial-gradient(circle at 0 0, var(--accent), var(--accent-alt));
      color: #020409;
      box-shadow: var(--shadow-accent);
      border-color: transparent;
    }

    .btn-soft {
      background: var(--bg-elevated);
      color: var(--text-main);
    }

    .btn-outline {
      background: transparent;
      color: var(--text-soft);
      border-color: rgba(148, 163, 184, 0.4);
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 22px rgba(0, 255, 200, 0.4);
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: 0 0 10px rgba(0, 255, 200, 0.3);
    }

    .btn span.icon {
      font-size: 1rem;
    }

    .form-error {
      font-size: 0.8rem;
      color: var(--danger);
      margin-top: 0.5rem;
      min-height: 1em;
    }

    /* ================== PRAYER WALL ================== */
    .wall-card {
      margin-top: 0.6rem;
    }

    .wall-subtext {
      font-size: 0.83rem;
      color: var(--text-soft);
      margin-bottom: 0.4rem;
    }

    .request-count {
      font-size: 0.8rem;
      color: var(--text-soft);
      margin-bottom: 0.6rem;
    }

    .status-text {
      font-size: 0.9rem;
      color: var(--text-soft);
    }

    .prayer-list {
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
    }

    .prayer-card {
      border-radius: 14px;
      background: rgba(7, 11, 23, 0.92);
      border: 1px solid rgba(15, 23, 42, 0.9);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.65);
      overflow: hidden;
      transition:
        border-color var(--transition-fast),
        box-shadow var(--transition-fast),
        transform var(--transition-fast),
        background var(--transition-fast);
    }

    .prayer-card.open {
      border-color: var(--accent-soft);
      box-shadow:
        0 0 0 1px rgba(15, 23, 42, 1),
        0 0 26px rgba(0, 255, 200, 0.4);
      transform: translateY(-1px);
      background: radial-gradient(
        circle at 0 0,
        rgba(0, 255, 200, 0.09),
        rgba(7, 11, 23, 0.98)
      );
    }

    .prayer-header {
      padding: 0.8rem 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      gap: 0.6rem;
    }

    .prayer-main {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      min-width: 0;
    }

    .prayer-title {
      font-size: 0.95rem;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      color: var(--text-main);
    }

    .prayer-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      font-size: 0.78rem;
    }

    .meta-pill {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      padding: 0.15rem 0.55rem;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      color: var(--text-soft);
      border: 1px solid rgba(148, 163, 184, 0.35);
    }

    .chevron {
      font-size: 1.2rem;
      color: var(--text-soft);
      flex-shrink: 0;
      transition: transform var(--transition-fast), color var(--transition-fast);
    }

    .prayer-card.open .chevron {
      transform: rotate(90deg);
      color: var(--accent);
    }

    .prayer-body {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.25s ease;
      border-top: 1px solid rgba(15, 23, 42, 0.85);
      border-bottom: 1px solid rgba(15, 23, 42, 0.85);
    }

    .prayer-body-inner {
      padding: 0.75rem 1rem 0.9rem;
      font-size: 0.9rem;
      color: var(--text-muted);
      line-height: 1.7;
    }

    .prayer-footer {
      padding: 0.55rem 1rem 0.7rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.6rem;
      font-size: 0.8rem;
      color: var(--text-soft);
    }

    .prayer-count {
      font-size: 0.8rem;
      color: var(--text-soft);
    }

    .hint-line {
      font-size: 0.75rem;
      color: rgba(148, 163, 184, 0.7);
    }

    .prayer-footer .btn {
      padding-inline: 1.1rem;
      font-size: 0.72rem;
      letter-spacing: 0.16em;
    }

    .prayer-footer .btn[disabled] {
      opacity: 0.6;
      cursor: not-allowed;
      box-shadow: none;
      transform: none;
    }

    /* ================== FOOTER ================== */
    footer {
      margin-top: 2.2rem;
      padding-top: 1.5rem;
      border-top: 1px solid rgba(255, 255, 255, 0.05);
      font-size: 0.8rem;
      color: var(--text-soft);
      display: flex;
      justify-content: space-between;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .auth-status-text {
      font-size: 0.78rem;
      color: var(--text-soft);
    }

    /* ================== AUTH MODAL (MATCH AUTH.JS) ================== */
    .auth-overlay {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at 0 0, rgba(0,0,0,0.65), rgba(0,0,0,0.92));
      backdrop-filter: blur(18px);
      z-index: 999;
    }

    .auth-overlay.open {
      display: flex;
    }

    .auth-card {
      width: 100%;
      max-width: 420px;
      border-radius: 18px;
      background: var(--bg-card);
      border: 1px solid var(--border-subtle);
      box-shadow: 0 0 30px rgba(0,0,0,0.9);
      padding: 1.4rem 1.4rem 1.2rem;
      color: var(--text-main);
      position: relative;
      overflow: hidden;
    }

    .auth-card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at 10% 0, rgba(0,255,200,0.2), transparent 65%),
        radial-gradient(circle at 100% 100%, rgba(0,140,255,0.25), transparent 70%);
      mix-blend-mode: screen;
      opacity: 0.7;
      pointer-events: none;
    }

    .auth-card-inner {
      position: relative;
      z-index: 1;
    }

    .auth-card-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
    }

    .auth-card-title {
      font-size: 1rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
    }

    .auth-card-sub {
      font-size: 0.78rem;
      color: var(--text-soft);
      max-width: 230px;
      text-align: right;
    }

    .auth-close-btn {
      position: absolute;
      top: 0.6rem;
      right: 0.7rem;
      border: none;
      background: transparent;
      color: var(--text-soft);
      cursor: pointer;
      font-size: 1rem;
      padding: 0.2rem;
    }

    .auth-toggle-row {
      display: flex;
      border-radius: 999px;
      border: 1px solid var(--border-subtle);
      overflow: hidden;
      margin-bottom: 0.8rem;
      font-size: 0.76rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
    }

    .auth-toggle-btn {
      flex: 1;
      padding: 0.45rem 0.3rem;
      text-align: center;
      cursor: pointer;
      background: transparent;
      border: none;
      color: var(--text-soft);
    }

    .auth-toggle-btn.active {
      background: radial-gradient(circle at 0 0, var(--accent), var(--accent-alt));
      color: #020409;
      font-weight: 600;
    }

    .auth-form {
      display: grid;
      gap: 0.55rem;
      margin-bottom: 0.6rem;
    }

    .auth-field {
      display: grid;
      gap: 0.25rem;
    }

    .auth-label {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.13em;
      color: var(--text-soft);
    }

    .auth-input {
      border-radius: 10px;
      border: 1px solid var(--border-subtle);
      background: var(--bg-elevated);
      padding: 0.5rem 0.7rem;
      font-size: 0.9rem;
      color: var(--text-main);
      outline: none;
    }

    .auth-input:focus {
      border-color: var(--accent-soft);
      box-shadow: 0 0 12px rgba(0,255,200,0.45);
    }

    .auth-btn {
      margin-top: 0.5rem;
      width: 100%;
      border-radius: 999px;
      border: none;
      padding: 0.55rem;
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      background: radial-gradient(circle at 0 0, var(--accent), var(--accent-alt));
      color: #020409;
      cursor: pointer;
      box-shadow: 0 0 18px rgba(0,255,200,0.5);
    }

    .auth-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 24px rgba(0,255,200,0.7);
    }

    .auth-error {
      font-size: 0.78rem;
      color: var(--danger);
      min-height: 1em;
      margin-top: 0.2rem;
    }

    .auth-footnote {
      margin-top: 0.4rem;
      font-size: 0.74rem;
      color: var(--text-soft);
    }

    .forgot-password-link {
      font-size: 0.75rem;
      color: var(--accent);
      cursor: pointer;
      text-decoration: underline;
      margin-top: 0.15rem;
      align-self: flex-end;
    }

    /* ================== RESPONSIVE ================== */
    @media (max-width: 880px) {
      .top-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    @media (max-width: 600px) {
      .shell {
        padding: 0 1.1rem 3rem;
      }

      .nav {
        padding: 0 1.1rem;
      }

      footer {
        flex-direction: column;
      }

      .prayer-footer {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>
  <div class="ambient-orbit"></div>

  <header>
    <nav class="nav">
      <div class="brand">
        <img src="images/theforgelogo.png" alt="The Forge logo" class="brand-logo" />
        <div>
          <div class="brand-text-main">The Forge</div>
        </div>
      </div>

      <div class="nav-links">
        <a href="theforge.html">Overview</a>
        <a href="members.html">Members</a>
        <a href="prayerrequests.html" class="active">Prayer Requests</a>
      </div>

      <div class="nav-actions">
        <button id="accountButton" class="account-btn" type="button">
          <span class="icon">üë§</span>
          <span id="navAuthButtonLabel">Sign In</span>
        </button>

        <button
          class="hamburger"
          id="hamburger"
          type="button"
          aria-label="Toggle navigation"
          aria-expanded="false"
        >
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
      </div>
    </nav>

    <!-- Mobile nav overlay -->
    <div class="mobile-nav" id="mobileNav">
      <div class="mobile-nav-inner">
        <a href="theforge.html">Overview</a>
        <a href="members.html">Members</a>
        <a href="prayerrequests.html">Prayer Requests</a>

        <div class="mobile-account-meta">
          <span id="navMobileUserLabel">Guest</span>
        </div>
        <button
          class="mobile-account-btn"
          id="mobileAccountButton"
          type="button"
        >
          <span id="navMobileAuthButtonLabel">Sign In / Create</span>
        </button>
      </div>
    </div>
  </header>

  <main class="shell">
    <section aria-labelledby="page-title">
      <div class="page-header-kicker">Pray for one another</div>
      <h1 id="page-title" class="page-title">Share a prayer need, stand in the gap.</h1>
      <p class="page-intro">
        This is a private wall for men in The Forge to ask for prayer and commit to praying
        for one another. Be honest, be specific, and remember that what you share here is
        treated with care.
      </p>

      <div class="top-grid">
        <!-- LEFT: POST A REQUEST -->
        <article class="card">
          <div class="card-inner">
            <div class="card-kicker">Share a prayer need</div>
            <h2 class="card-title-main">Post a request</h2>

            <form id="prayerForm" class="prayer-form" autocomplete="off">
              <!-- 1) Display name -->
              <div class="field-group" data-field="name">
                <input
                  id="name"
                  name="name"
                  type="text"
                  class="field-control"
                  placeholder="Display name (optional)"
                  maxlength="80"
                />
                <label for="name" class="field-label">Display name (optional)</label>
              </div>

              <!-- 2) Request title -->
              <div class="field-group" data-field="title">
                <input
                  id="title"
                  name="title"
                  type="text"
                  class="field-control"
                  placeholder="Title of your request"
                  maxlength="120"
                />
                <label for="title" class="field-label">Prayer request title</label>
              </div>

              <!-- 3) Request body -->
              <div class="field-group textarea" data-field="message">
                <textarea
                  id="message"
                  name="message"
                  class="field-control"
                  placeholder="Share what you're asking God to do"
                ></textarea>
                <label for="message" class="field-label">Prayer request details</label>
              </div>

              <p class="field-note">
                Requests are timestamped and an email will be sent out notifying all members
                of your prayer request.
              </p>

              <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                  <span class="icon">üì®</span>
                  <span>Submit Request</span>
                </button>
                <button type="reset" class="btn btn-outline">
                  <span>Clear</span>
                </button>
              </div>

              <div id="newPrayerError" class="form-error"></div>
            </form>
          </div>
        </article>

        <!-- RIGHT: HOW THIS WORKS -->
        <article class="card">
          <div class="card-inner">
            <div class="card-kicker">Heart of The Forge</div>
            <h2 class="card-title-main">How this works</h2>
            <div class="card-text">
              <p>
                Every request on this wall represents a real man walking through real battles.
                When you open a request and tap <strong>‚ÄúI‚Äôm praying‚Äù</strong>, the counter
                will reflect that you‚Äôve committed to pray for your brother in Christ.
              </p>
              <ul style="margin: 0.8rem 0 0.6rem 1.1rem; padding-left: 0;">
                <li>
                  Each brother can mark ‚ÄúI‚Äôm praying‚Äù <strong>one time per request.</strong>
                </li>
                <li>
                  When you open another request, the previous one will collapse to keep the
                  wall clean.
                </li>
                <li>
                  You may use specific details if you'd like, but avoid sharing anything that
                  would betray another person‚Äôs trust.
                </li>
              </ul>
              <p style="margin-top: 0.7rem;">
                <em>
                  ‚ÄúConfess your sins to one another and pray for one another, that you may be
                  healed.‚Äù ‚Äî James 5:16
                </em>
              </p>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- PRAYER WALL -->
    <section aria-labelledby="wall-title">
      <article class="card wall-card">
        <div class="card-inner">
          <div class="card-kicker">Prayer Wall</div>
          <h2 id="wall-title" class="card-title-main">Pray for one another</h2>
          <p class="wall-subtext">
            Below are active requests from men in The Forge. Click a request to expand the
            details, then tap ‚ÄúI‚Äôm praying‚Äù to let your brother in Christ know you're
            praying for them.
          </p>

          <div class="request-count" id="requestCountLabel">
            Sign in to view prayer requests.
          </div>

          <div id="prayerList" class="prayer-list">
            <!-- Populated by auth.js / Firestore -->
          </div>
        </div>
      </article>
    </section>

    <footer>
      <div>¬© <span id="year"></span> The Forge ¬∑ Prayer Requests</div>
      <div class="auth-status-text" id="authStatus">
        Not signed in
      </div>
    </footer>
  </main>

  <!-- AUTH MODAL (WIRED TO auth.js) -->
  <div
    class="auth-overlay"
    id="authOverlay"
    aria-modal="true"
    role="dialog"
    aria-hidden="true"
  >
    <div class="auth-card">
      <button
        type="button"
        class="auth-close-btn"
        id="authCloseBtn"
        aria-label="Close account window"
      >
        ‚úï
      </button>
      <div class="auth-card-inner">
        <div class="auth-card-header">
          <div class="auth-card-title">Forge Account</div>
          <div class="auth-card-sub">
            Invite-only access. Use the code you were given by the group owner.
          </div>
        </div>

        <div class="auth-toggle-row">
          <button
            type="button"
            class="auth-toggle-btn active"
            data-mode="signin"
          >
            Sign In
          </button>
          <button
            type="button"
            class="auth-toggle-btn"
            data-mode="signup"
          >
            Create Account
          </button>
        </div>

        <!-- Sign In (IDs match auth.js) -->
        <form id="loginForm" class="auth-form" autocomplete="on">
          <div class="auth-field">
            <label class="auth-label" for="loginEmail">Email</label>
            <input
              id="loginEmail"
              type="email"
              class="auth-input"
              autocomplete="email"
              required
            />
          </div>
          <div class="auth-field">
            <label class="auth-label" for="loginPassword">Password</label>
            <input
              id="loginPassword"
              type="password"
              class="auth-input"
              autocomplete="current-password"
              required
            />
          </div>
          <div
            id="forgotPasswordLink"
            class="forgot-password-link"
          >
            Forgot password?
          </div>
          <button type="submit" class="auth-btn">Sign In</button>
          <div class="auth-error" id="authErrorLogin"></div>
          <div class="auth-footnote">
            Already joined? Use the email and password you created.
          </div>
        </form>

        <!-- Sign Up (IDs match auth.js) -->
        <form
          id="signupForm"
          class="auth-form"
          style="display:none;"
          autocomplete="on"
        >
          <div class="auth-field">
            <label class="auth-label" for="signupFirstName">First Name</label>
            <input
              id="signupFirstName"
              type="text"
              class="auth-input"
              autocomplete="given-name"
              required
            />
          </div>
          <div class="auth-field">
            <label class="auth-label" for="signupLastName">Last Name</label>
            <input
              id="signupLastName"
              type="text"
              class="auth-input"
              autocomplete="family-name"
              required
            />
          </div>

          <!-- Optional legacy display name field (used by auth.js fallback) -->
          <input id="signupName" type="hidden" />

          <div class="auth-field">
            <label class="auth-label" for="signupEmail">Email</label>
            <input
              id="signupEmail"
              type="email"
              class="auth-input"
              autocomplete="email"
              required
            />
          </div>
          <div class="auth-field">
            <label class="auth-label" for="signupPassword">Password</label>
            <input
              id="signupPassword"
              type="password"
              class="auth-input"
              autocomplete="new-password"
              required
            />
          </div>
          <div class="auth-field">
            <label class="auth-label" for="signupPassword2">Confirm Password</label>
            <input
              id="signupPassword2"
              type="password"
              class="auth-input"
              autocomplete="new-password"
              required
            />
          </div>
          <div class="auth-field">
            <label class="auth-label" for="signupInvite">Invite Code</label>
            <input
              id="signupInvite"
              type="text"
              class="auth-input"
              placeholder="Enter your invite code"
              required
            />
          </div>
          <button type="submit" class="auth-btn">Create Account</button>
          <div class="auth-error" id="authErrorSignup"></div>
          <div class="auth-footnote">
            Accounts are invite-only. If you don‚Äôt have a code, ask the group owner.
          </div>
        </form>

        <!-- Sign Out (only when logged in; wired by auth.js) -->
        <button
          type="button"
          id="signOutButton"
          class="auth-btn"
          style="margin-top: 0.75rem; display: none;"
        >
          Sign Out
        </button>
      </div>
    </div>
  </div>

  <script>
    // FOOTER YEAR
    document.getElementById('year').textContent = new Date().getFullYear();

    // MOBILE NAV TOGGLE (needed by auth.js when opening mobile account)
    (function () {
      const hamburger = document.getElementById('hamburger');
      const mobileNav = document.getElementById('mobileNav');

      if (!hamburger || !mobileNav) return;

      function closeNav() {
        mobileNav.classList.remove('open');
        hamburger.classList.remove('is-open');
        hamburger.setAttribute('aria-expanded', 'false');
      }

      function openNav() {
        mobileNav.classList.add('open');
        hamburger.classList.add('is-open');
        hamburger.setAttribute('aria-expanded', 'true');
      }

      hamburger.addEventListener('click', () => {
        if (mobileNav.classList.contains('open')) {
          closeNav();
        } else {
          openNav();
        }
      });

      mobileNav.querySelectorAll('a').forEach((link) => {
        link.addEventListener('click', () => {
          closeNav();
        });
      });

      // Expose to auth.js so it can close nav when opening account modal
      window.__forgeCloseMobileNav = closeNav;
    })();

    // FLOATING LABEL BEHAVIOR + TEXTAREA AUTO-GROW
    (function () {
      const groups = document.querySelectorAll('.field-group');

      function updateGroupState(group, control) {
        if (!control) return;
        if (control.value && control.value.trim() !== '') {
          group.classList.add('has-value');
        } else {
          group.classList.remove('has-value');
        }
      }

      groups.forEach((group) => {
        const control = group.querySelector('.field-control');
        if (!control) return;

        control.addEventListener('focus', () => group.classList.add('focused'));
        control.addEventListener('blur', () => group.classList.remove('focused'));
        control.addEventListener('input', () => updateGroupState(group, control));

        // initial state
        updateGroupState(group, control);
      });

      // Auto-grow the prayer textarea so it's not manually resizable
      const messageEl = document.getElementById('message');
      if (messageEl) {
        const autoResize = () => {
          messageEl.style.height = 'auto';
          messageEl.style.height = (messageEl.scrollHeight + 2) + 'px';
        };
        messageEl.addEventListener('input', autoResize);
        // Initial size
        autoResize();
      }
    })();
  </script>

  <!-- Firebase wiring & logic -->
  <script type="module" src="auth.js"></script>
</body>
</html>
