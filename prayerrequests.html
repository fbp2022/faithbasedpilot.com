<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Forge ¬∑ Prayer Requests</title>
  <meta name="color-scheme" content="dark light" />
  <meta name="description" content="A private prayer wall for The Forge men's community. Submit requests, pray for one another, and track how many men are praying." />

  <style>
    /* ================== BASE / THEME ================== */
    :root {
      --bg-main: #05070f;
      --bg-elevated: rgba(10, 14, 30, 0.95);
      --bg-card: rgba(9, 14, 32, 0.95);
      --bg-card-soft: rgba(18, 24, 48, 0.9);
      --bg-deep: #000000;

      --bg-header-strong: rgba(0, 0, 0, 0.9);
      --bg-header-soft: rgba(0, 0, 0, 0.7);
      --bg-mobile-overlay: rgba(2, 4, 10, 0.97);

      --border-subtle: rgba(0, 255, 200, 0.25);
      --accent: #00ffd0;
      --accent-soft: rgba(0, 255, 200, 0.5);
      --accent-alt: #00aaff;

      --text-main: #e3f6ff;
      --text-muted: #a6bfdc;
      --text-soft: #7e91b8;
      --danger: #ff4b4b;

      --shadow-strong: 0 0 35px rgba(0, 0, 0, 0.9);
      --shadow-accent: 0 0 24px rgba(0, 255, 200, 0.45);

      --nav-height: 64px;
      --radius-lg: 18px;
      --radius-md: 12px;
      --radius-full: 999px;
      --transition-fast: 0.18s ease;
      --transition-med: 0.25s ease;
    }

    :root[data-theme="light"] {
      --bg-main: #f5f7fb;
      --bg-elevated: rgba(255, 255, 255, 0.98);
      --bg-card: rgba(255, 255, 255, 0.98);
      --bg-card-soft: rgba(245, 247, 252, 0.98);
      --bg-deep: #c7d2fe;

      --bg-header-strong: rgba(255, 255, 255, 0.98);
      --bg-header-soft: rgba(248, 250, 252, 0.9);
      --bg-mobile-overlay: rgba(245, 247, 252, 0.98);

      --border-subtle: rgba(0, 140, 255, 0.25);
      --accent: #0074ff;
      --accent-soft: rgba(0, 116, 255, 0.5);
      --accent-alt: #00b8ff;

      --text-main: #071420;
      --text-muted: #4f5c77;
      --text-soft: #7a8799;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html,
    body {
      height: 100%;
      scroll-behavior: smooth;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(
        circle at 0% 0%,
        var(--bg-card-soft) 0,
        var(--bg-main) 40%,
        var(--bg-deep) 100%
      );
      color: var(--text-main);
      -webkit-font-smoothing: antialiased;
    }

    /* Ambient animated background */
    .ambient-orbit {
      position: fixed;
      inset: -40%;
      pointer-events: none;
      z-index: -1;
      background:
        radial-gradient(circle at 10% 0%, rgba(0, 255, 200, 0.16), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(0, 140, 255, 0.18), transparent 60%);
      opacity: 0.75;
      animation: orbit 30s linear infinite alternate;
      mix-blend-mode: screen;
    }

    @keyframes orbit {
      0% {
        transform: translate3d(0, 0, 0) scale(1);
      }
      50% {
        transform: translate3d(-3%, 4%, 0) scale(1.05);
      }
      100% {
        transform: translate3d(3%, -4%, 0) scale(1.02);
      }
    }

    .shell {
      max-width: 1120px;
      margin: 0 auto;
      padding: 0 1.5rem 3.5rem;
    }

    /* ================== HEADER / NAV ================== */

    header {
      position: sticky;
      top: 0;
      z-index: 40;
      backdrop-filter: blur(16px);
      background: linear-gradient(
        to bottom,
        var(--bg-header-strong),
        var(--bg-header-soft),
        transparent
      );
      border-bottom: 1px solid var(--border-subtle);
    }

    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: var(--nav-height);
      max-width: 1120px;
      margin: 0 auto;
      padding: 0 1.5rem;
      gap: 1.5rem;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      white-space: nowrap;
    }

    .brand-logo {
      width: 36px;
      height: 36px;
      border-radius: 10px;
      border: 1px solid var(--border-subtle);
      box-shadow: var(--shadow-accent);
      object-fit: cover;
      background: #020409;
    }

    .brand-text-main {
      font-size: 1rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      font-weight: 600;
      color: var(--text-main);
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 1rem;
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--text-muted);
      position: relative;
      padding-bottom: 0.15rem;
      cursor: pointer;
      transition: color var(--transition-fast);
    }

    .nav-links a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 0;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--accent), var(--accent-alt));
      transition: width var(--transition-fast);
    }

    .nav-links a:hover {
      color: var(--text-main);
    }

    .nav-links a:hover::after {
      width: 100%;
    }

    .nav-actions {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .theme-toggle {
      border-radius: var(--radius-full);
      border: 1px solid var(--border-subtle);
      padding: 0.35rem 0.9rem;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      background: var(--bg-elevated);
      color: var(--text-muted);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      transition:
        background var(--transition-fast),
        border-color var(--transition-fast),
        transform var(--transition-fast),
        box-shadow var(--transition-fast),
        color var(--transition-fast);
    }

    .theme-toggle:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 15px rgba(0, 255, 200, 0.3);
      border-color: var(--accent-soft);
      color: var(--text-main);
    }

    .theme-toggle span {
      font-size: 0.9rem;
    }

    .account-btn {
      border-radius: var(--radius-full);
      border: 1px solid var(--border-subtle);
      padding: 0.35rem 0.9rem;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      background: transparent;
      color: var(--accent);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      transition:
        background var(--transition-fast),
        border-color var(--transition-fast),
        transform var(--transition-fast),
        box-shadow var(--transition-fast),
        color var(--transition-fast);
    }

    .account-btn:hover {
      background: var(--bg-card-soft);
      transform: translateY(-1px);
      box-shadow: 0 0 16px rgba(0, 255, 200, 0.35);
      color: var(--text-main);
    }

    .account-btn span.icon {
      font-size: 0.95rem;
    }

    /* Hamburger (mobile) */
    .hamburger {
      display: none;
      width: 40px;
      height: 34px;
      border-radius: 999px;
      border: 1px solid var(--border-subtle);
      background: var(--bg-elevated);
      cursor: pointer;
      align-items: center;
      justify-content: center;
      gap: 4px;
      flex-direction: column;
      padding: 6px 0;
      transition:
        background var(--transition-fast),
        box-shadow var(--transition-fast),
        transform var(--transition-fast);
    }

    .hamburger-line {
      width: 18px;
      height: 2px;
      border-radius: 999px;
      background: var(--text-muted);
      transition:
        transform var(--transition-fast),
        opacity var(--transition-fast),
        background var(--transition-fast);
    }

    .hamburger:hover {
      background: var(--bg-card-soft);
      box-shadow: 0 0 15px rgba(0, 255, 200, 0.35);
      transform: translateY(-1px);
    }

    .hamburger.is-open .hamburger-line:nth-child(1) {
      transform: translateY(4px) rotate(45deg);
      background: var(--accent);
    }

    .hamburger.is-open .hamburger-line:nth-child(2) {
      opacity: 0;
    }

    .hamburger.is-open .hamburger-line:nth-child(3) {
      transform: translateY(-4px) rotate(-45deg);
      background: var(--accent);
    }

    /* Mobile nav overlay */
    .mobile-nav {
      display: none;
      position: fixed;
      inset: var(--nav-height) 0 0 0;
      background:
        radial-gradient(circle at 0 0, rgba(0, 255, 200, 0.16), transparent 60%),
        radial-gradient(circle at 100% 100%, rgba(0, 140, 255, 0.18), transparent 60%),
        var(--bg-mobile-overlay);
      backdrop-filter: blur(20px);
      z-index: 35;
    }

    .mobile-nav.open {
      display: block;
    }

    .mobile-nav-inner {
      max-width: 1120px;
      margin: 0 auto;
      padding: 1.25rem 1.5rem 2rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .mobile-nav-inner a,
    .mobile-nav-inner button.mobile-account-btn {
      text-decoration: none;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--text-muted);
      padding: 0.6rem 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      cursor: pointer;
      transition: color var(--transition-fast), border-color var(--transition-fast);
      background: transparent;
      text-align: left;
    }

    .mobile-nav-inner a:last-child,
    .mobile-nav-inner button.mobile-account-btn:last-child {
      border-bottom: none;
    }

    .mobile-nav-inner a:hover,
    .mobile-nav-inner button.mobile-account-btn:hover {
      color: var(--accent);
      border-color: rgba(0, 255, 200, 0.5);
    }

    @media (max-width: 840px) {
      .nav-links {
        display: none;
      }

      .hamburger {
        display: flex;
      }
    }

    /* ================== PAGE CONTENT ================== */

    main {
      padding-top: 1.5rem;
    }

    .hero {
      margin: 1.5rem 0 2.3rem;
      display: grid;
      grid-template-columns: minmax(0, 3.2fr) minmax(0, 2.8fr);
      gap: 2.1rem;
      align-items: center;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.6rem;
      padding: 0.2rem 0.75rem 0.2rem 0.25rem;
      border-radius: 999px;
      background: radial-gradient(circle at 0 0, rgba(0, 255, 200, 0.3), transparent 70%);
      border: 1px solid var(--border-subtle);
      box-shadow: 0 0 18px rgba(0, 255, 200, 0.25);
      margin-bottom: 1.1rem;
    }

    .hero-badge-label {
      padding: 0.25rem 0.6rem;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--accent), var(--accent-alt));
      color: #020409;
      font-size: 0.6rem;
      font-weight: 600;
      letter-spacing: 0.13em;
      text-transform: uppercase;
    }

    .hero-badge-text {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--text-soft);
    }

    .hero-title {
      font-size: clamp(2.1rem, 3.5vw, 2.7rem);
      line-height: 1.15;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      margin-bottom: 0.75rem;
      color: var(--text-main);
      text-shadow: 0 0 18px rgba(0, 255, 200, 0.4);
    }

    .hero-subtitle {
      font-size: 0.88rem;
      text-transform: uppercase;
      letter-spacing: 0.25em;
      color: var(--text-soft);
      margin-bottom: 1.2rem;
    }

    .hero-text {
      font-size: 0.96rem;
      color: var(--text-muted);
      line-height: 1.7;
      margin-bottom: 1rem;
    }

    .hero-scripture {
      font-size: 0.85rem;
      color: var(--text-soft);
      border-left: 2px solid var(--accent-soft);
      padding-left: 0.75rem;
    }

    .hero-panel {
      position: relative;
      border-radius: var(--radius-lg);
      background: var(--bg-card);
      border: 1px solid var(--border-subtle);
      padding: 1.4rem 1.25rem;
      box-shadow: var(--shadow-strong);
      overflow: hidden;
    }

    .hero-panel-glow {
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at 10% 0%, rgba(0, 255, 200, 0.2), transparent 60%),
        radial-gradient(circle at 90% 100%, rgba(0, 140, 255, 0.18), transparent 65%);
      pointer-events: none;
      mix-blend-mode: screen;
      opacity: 0.75;
    }

    .hero-panel-content {
      position: relative;
      z-index: 1;
    }

    .hero-panel-heading {
      font-size: 0.8rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--text-soft);
      margin-bottom: 0.35rem;
    }

    .hero-panel-title {
      font-size: 0.98rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      color: var(--text-main);
      margin-bottom: 0.75rem;
    }

    .hero-panel-text {
      font-size: 0.9rem;
      color: var(--text-muted);
      line-height: 1.6;
      margin-bottom: 0.8rem;
    }

    .hero-panel-meta {
      font-size: 0.8rem;
      color: var(--text-soft);
    }

    /* Sections / cards */

    .section {
      margin-bottom: 2.6rem;
    }

    .section-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 0.75rem;
      margin-bottom: 1.25rem;
    }

    .section-kicker {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.22em;
      color: var(--text-soft);
      margin-bottom: 0.25rem;
    }

    .section-title {
      font-size: 1.25rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--text-main);
    }

    .section-subtitle {
      font-size: 0.85rem;
      color: var(--text-muted);
      max-width: 360px;
    }

    .card {
      border-radius: var(--radius-lg);
      background: var(--bg-card);
      border: 1px solid var(--border-subtle);
      padding: 1.4rem 1.3rem;
      box-shadow: var(--shadow-strong);
      transition:
        transform var(--transition-med),
        box-shadow var(--transition-med),
        border-color var(--transition-med),
        background var(--transition-med);
    }

    .card:hover {
      transform: translateY(-3px);
      box-shadow: 0 0 24px rgba(0, 255, 200, 0.35);
      border-color: var(--accent-soft);
    }

    .card-title {
      font-size: 1rem;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      margin-bottom: 0.65rem;
      color: var(--text-main);
    }

    .field-grid {
      display: grid;
      gap: 0.75rem;
      font-size: 0.9rem;
    }

    .field {
      display: grid;
      gap: 0.3rem;
    }

    .field label {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--text-soft);
    }

    .field input,
    .field textarea {
      border-radius: 12px;
      border: 1px solid var(--border-subtle);
      background: var(--bg-elevated);
      color: var(--text-main);
      padding: 0.55rem 0.75rem;
      font-size: 0.9rem;
      outline: none;
      resize: vertical;
      min-height: 2.4rem;
    }

    :root[data-theme="light"] .field input,
    :root[data-theme="light"] .field textarea {
      background: #ffffff;
    }

    .field input:focus,
    .field textarea:focus {
      border-color: var(--accent-soft);
      box-shadow: 0 0 10px rgba(0, 255, 200, 0.3);
    }

    .helper-text {
      font-size: 0.8rem;
      color: var(--text-soft);
    }

    .btn {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.45rem;
      padding: 0.7rem 1.6rem;
      border-radius: var(--radius-full);
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      border: 1px solid var(--border-subtle);
      cursor: pointer;
      text-decoration: none;
      transition:
        transform var(--transition-fast),
        box-shadow var(--transition-fast),
        background var(--transition-fast),
        border-color var(--transition-fast),
        color var(--transition-fast);
    }

    .btn-primary {
      background: radial-gradient(circle at 0 0, var(--accent), var(--accent-alt));
      color: #020409;
      box-shadow: var(--shadow-accent);
      border-color: transparent;
    }

    .btn-outline {
      background: var(--bg-elevated);
      color: var(--text-main);
    }

    .btn-soft {
      background: var(--bg-elevated);
      color: var(--accent);
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 22px rgba(0, 255, 200, 0.4);
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: 0 0 10px rgba(0, 255, 200, 0.3);
    }

    .btn span.icon {
      font-size: 1rem;
    }

    .status-text {
      margin-top: 0.5rem;
      font-size: 0.82rem;
      color: var(--text-soft);
    }

    .status-text strong {
      color: var(--text-main);
    }

    .error-text {
      margin-top: 0.35rem;
      font-size: 0.8rem;
      color: var(--danger);
      min-height: 1em;
    }

    /* Prayer list */

    .prayer-list {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .prayer-card {
      border-radius: var(--radius-lg);
      background: var(--bg-card);
      border: 1px solid var(--border-subtle);
      padding: 0.9rem 1rem;
      box-shadow: var(--shadow-strong);
      cursor: pointer;
      transition:
        transform var(--transition-fast),
        box-shadow var(--transition-fast),
        border-color var(--transition-fast),
        background var(--transition-fast),
        max-height 0.25s ease;
      overflow: hidden;
    }

    .prayer-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 20px rgba(0, 255, 200, 0.35);
      border-color: var(--accent-soft);
    }

    .prayer-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 0.6rem;
    }

    .prayer-title {
      font-size: 0.95rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-main);
    }

    .prayer-meta {
      font-size: 0.75rem;
      color: var(--text-soft);
      text-align: right;
      white-space: nowrap;
    }

    .prayer-body {
      margin-top: 0.6rem;
      font-size: 0.9rem;
      color: var(--text-muted);
      line-height: 1.6;
      display: none;
    }

    .prayer-footer {
      margin-top: 0.6rem;
      display: none;
      align-items: center;
      justify-content: space-between;
      gap: 0.75rem;
      font-size: 0.8rem;
      flex-wrap: wrap;
    }

    .prayer-count {
      color: var(--text-soft);
    }

    .prayer-card.open .prayer-body,
    .prayer-card.open .prayer-footer {
      display: flex;
    }

    .prayer-card.open .prayer-body {
      display: block;
    }

    .badge-ttl {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      padding: 0.2rem 0.55rem;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.06);
      font-size: 0.7rem;
      color: var(--text-soft);
    }

    .badge-ttl span.icon {
      font-size: 0.8rem;
    }

    footer {
      margin-top: 2rem;
      padding-top: 1.5rem;
      border-top: 1px solid rgba(255, 255, 255, 0.05);
      font-size: 0.8rem;
      color: var(--text-soft);
      display: flex;
      justify-content: space-between;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .auth-status-text {
      font-size: 0.78rem;
      color: var(--text-soft);
    }

    /* ================== AUTH MODAL (UI ONLY) ================== */

    .auth-overlay {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at 0 0, rgba(0,0,0,0.65), rgba(0,0,0,0.92));
      backdrop-filter: blur(18px);
      z-index: 999;
    }

    .auth-overlay.open {
      display: flex;
    }

    .auth-card {
      width: 100%;
      max-width: 420px;
      border-radius: 18px;
      background: var(--bg-card);
      border: 1px solid var(--border-subtle);
      box-shadow: 0 0 30px rgba(0,0,0,0.9);
      padding: 1.4rem 1.4rem 1.2rem;
      color: var(--text-main);
      position: relative;
      overflow: hidden;
    }

    .auth-card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at 10% 0, rgba(0,255,200,0.2), transparent 65%),
        radial-gradient(circle at 100% 100%, rgba(0,140,255,0.25), transparent 70%);
      mix-blend-mode: screen;
      opacity: 0.7;
      pointer-events: none;
    }

    .auth-card-inner {
      position: relative;
      z-index: 1;
    }

    .auth-card-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
    }

    .auth-card-title {
      font-size: 1rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
    }

    .auth-card-sub {
      font-size: 0.78rem;
      color: var(--text-soft);
      max-width: 230px;
      text-align: right;
    }

    .auth-close-btn {
      position: absolute;
      top: 0.6rem;
      right: 0.7rem;
      border: none;
      background: transparent;
      color: var(--text-soft);
      cursor: pointer;
      font-size: 1rem;
      padding: 0.2rem;
    }

    .auth-toggle-row {
      display: flex;
      border-radius: 999px;
      border: 1px solid var(--border-subtle);
      overflow: hidden;
      margin-bottom: 0.8rem;
      font-size: 0.76rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
    }

    .auth-toggle-btn {
      flex: 1;
      padding: 0.45rem 0.3rem;
      text-align: center;
      cursor: pointer;
      background: transparent;
      border: none;
      color: var(--text-soft);
    }

    .auth-toggle-btn.active {
      background: radial-gradient(circle at 0 0, var(--accent), var(--accent-alt));
      color: #020409;
      font-weight: 600;
    }

    .auth-form {
      display: grid;
      gap: 0.55rem;
      margin-bottom: 0.6rem;
    }

    .auth-field {
      display: grid;
      gap: 0.25rem;
    }

    .auth-label {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.13em;
      color: var(--text-soft);
    }

    .auth-input {
      border-radius: 10px;
      border: 1px solid var(--border-subtle);
      background: var(--bg-elevated);
      padding: 0.5rem 0.7rem;
      font-size: 0.9rem;
      color: var(--text-main);
      outline: none;
    }

    :root[data-theme="light"] .auth-input {
      background: #ffffff;
      color: var(--text-main);
    }

    .auth-input:focus {
      border-color: var(--accent-soft);
      box-shadow: 0 0 12px rgba(0,255,200,0.45);
    }

    .auth-btn {
      margin-top: 0.5rem;
      width: 100%;
      border-radius: 999px;
      border: none;
      padding: 0.55rem;
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      background: radial-gradient(circle at 0 0, var(--accent), var(--accent-alt));
      color: #020409;
      cursor: pointer;
      box-shadow: 0 0 18px rgba(0,255,200,0.5);
    }

    .auth-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 24px rgba(0,255,200,0.7);
    }

    .auth-error {
      font-size: 0.78rem;
      color: var(--danger);
      min-height: 1em;
      margin-top: 0.2rem;
    }

    .auth-footnote {
      margin-top: 0.4rem;
      font-size: 0.74rem;
      color: var(--text-soft);
    }

    /* ================== RESPONSIVE ================== */

    @media (max-width: 880px) {
      .hero {
        grid-template-columns: minmax(0, 1fr);
      }

      .hero-panel {
        order: -1;
      }
    }

    @media (max-width: 600px) {
      .shell {
        padding: 0 1.1rem 3rem;
      }

      .nav {
        padding: 0 1.1rem;
      }

      footer {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="ambient-orbit"></div>

  <header>
    <nav class="nav">
      <div class="brand">
        <img src="images/theforgelogo.png" alt="The Forge logo" class="brand-logo" />
        <div class="brand-text-main">The Forge</div>
      </div>

      <div class="nav-links">
        <a href="theforge.html">Forge Home</a>
        <a href="#newRequest">New Request</a>
        <a href="#requests">All Requests</a>
      </div>

      <div class="nav-actions">
        <button class="theme-toggle" id="themeToggle" type="button">
          <span class="icon">üåô</span>
          <span>Theme</span>
        </button>
        <button class="account-btn" id="accountButton" type="button">
          <span class="icon">üë§</span>
          <span>Account</span>
        </button>
        <button class="hamburger" id="hamburger" type="button" aria-label="Toggle navigation" aria-expanded="false">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
      </div>
    </nav>

    <!-- Mobile nav overlay -->
    <div class="mobile-nav" id="mobileNav">
      <div class="mobile-nav-inner">
        <a href="theforge.html">Forge Home</a>
        <a href="#newRequest">New Request</a>
        <a href="#requests">All Requests</a>
        <button type="button" class="mobile-account-btn" id="mobileAccountButton">
          Account / Sign In
        </button>
      </div>
    </div>
  </header>

  <main class="shell">
    <!-- HERO -->
    <section class="hero" id="top">
      <div>
        <div class="hero-badge">
          <span class="hero-badge-label">Prayer Wall</span>
          <span class="hero-badge-text">Private ¬∑ Men of The Forge</span>
        </div>

        <h1 class="hero-title">Prayer Requests</h1>
        <p class="hero-subtitle">Carrying each other‚Äôs burdens before the Lord.</p>

        <p class="hero-text">
          This page is a guarded space for men in The Forge to share needs, struggles, and praise reports.
          Requests are visible only to those inside the community, and each card tracks how many men have committed to pray.
        </p>

        <p class="hero-scripture">
          ‚ÄúCarry each other‚Äôs burdens, and in this way you will fulfill the law of Christ.‚Äù
          ‚Äî Galatians 6:2
        </p>
      </div>

      <aside class="hero-panel" aria-label="Prayer System Overview">
        <div class="hero-panel-glow"></div>
        <div class="hero-panel-content">
          <div class="hero-panel-heading">How this works</div>
          <div class="hero-panel-title">Requests ¬∑ Prayers ¬∑ 60 Days</div>
          <p class="hero-panel-text">
            Each request shows only the title until it is opened. Inside, men can read the details and tap
            <strong>‚ÄúI‚Äôm praying‚Äù</strong> to add to the count.
          </p>
          <p class="hero-panel-text">
            Requests are designed to be temporary: after about <strong>60 days</strong>, they will expire and be removed
            so the wall stays current. Long-term situations can always be re-posted with fresh updates.
          </p>
          <p class="hero-panel-meta">
            Note: In the final build, the 60-day removal will be handled by a Firestore TTL rule based on a
            <code>createdAt</code> timestamp, not by this page.
          </p>
        </div>
      </aside>
    </section>

    <!-- NEW REQUEST -->
    <section id="newRequest" class="section">
      <div class="section-header">
        <div>
          <div class="section-kicker">New Request</div>
          <h2 class="section-title">Share a Prayer Need</h2>
        </div>
        <p class="section-subtitle">
          Your name is optional. Only the men of The Forge will see these requests once the account system is live.
        </p>
      </div>

      <article class="card">
        <h3 class="card-title">Post a Request</h3>
        <form id="newPrayerForm">
          <div class="field-grid">
            <div class="field">
              <label for="prayerTitle">Title</label>
              <input id="prayerTitle" type="text" required placeholder="Short summary (e.g., Job interview on Friday)" />
            </div>
            <div class="field">
              <label for="prayerName">Name (optional)</label>
              <input id="prayerName" type="text" placeholder="Leave blank to post anonymously" />
              <p class="helper-text">
                If blank, the request will show as <strong>‚ÄúAnonymous brother‚Äù</strong>.
              </p>
            </div>
            <div class="field">
              <label for="prayerBody">Details</label>
              <textarea
                id="prayerBody"
                rows="4"
                required
                placeholder="Share what you‚Äôre walking through and how we can pray."
              ></textarea>
            </div>
          </div>

          <div style="margin-top: 0.9rem; display: flex; align-items: center; gap: 0.75rem; flex-wrap: wrap;">
            <button type="submit" class="btn btn-primary">
              <span class="icon">üôè</span>
              <span>Submit Request</span>
            </button>
            <span class="badge-ttl">
              <span class="icon">‚è≥</span>
              <span>Expires after ~60 days</span>
            </span>
          </div>

          <div class="error-text" id="newPrayerError"></div>
          <p class="status-text">
            In the final version, this form will require you to be signed in.
            Your request will be stored in Firebase with a <strong>createdAt</strong> timestamp and a
            <strong>prayerCount</strong> of 0.
          </p>
        </form>
      </article>
    </section>

    <!-- REQUESTS LIST -->
    <section id="requests" class="section">
      <div class="section-header">
        <div>
          <div class="section-kicker">Current Requests</div>
          <h2 class="section-title">Pray for the Brotherhood</h2>
        </div>
        <p class="section-subtitle">
          Newest requests appear at the top. Tap a title to open, read, and add your ‚ÄúI‚Äôm praying‚Äù count.
        </p>
      </div>

      <article class="card">
        <h3 class="card-title">Prayer Wall</h3>
        <div id="prayerList" class="prayer-list">
          <!-- Populated by JS with sample data for now.
               Later, auth.js will read from Firestore (collection: prayers),
               filter out anything older than ~60 days, and render them here. -->
        </div>

        <p class="status-text" style="margin-top: 0.9rem;">
          This list is using <strong>sample data</strong> for now. Once Firebase is wired up, it will load live requests
          from the <code>prayers</code> collection and show real prayer counts.
        </p>
      </article>
    </section>

    <footer>
      <div>¬© <span id="year"></span> The Forge ¬∑ Prayer Requests</div>
      <div class="auth-status-text" id="authStatus">
        Account + Firebase integration not connected yet. You‚Äôll sign in here and see live counts once auth.js is in place.
      </div>
    </footer>
  </main>

  <!-- AUTH MODAL (UI ONLY) -->
  <div class="auth-overlay" id="authOverlay" aria-modal="true" role="dialog" aria-hidden="true">
    <div class="auth-card">
      <button type="button" class="auth-close-btn" id="authCloseBtn" aria-label="Close account window">‚úï</button>
      <div class="auth-card-inner">
        <div class="auth-card-header">
          <div class="auth-card-title">Forge Account</div>
          <div class="auth-card-sub">
            Invite-only access. Use the code you were given by the group owner.
          </div>
        </div>

        <div class="auth-toggle-row">
          <button type="button" class="auth-toggle-btn active" data-mode="signin">Sign In</button>
          <button type="button" class="auth-toggle-btn" data-mode="signup">Create Account</button>
        </div>

        <!-- Sign In form (no Firebase wiring yet) -->
        <form id="authSignInForm" class="auth-form">
          <div class="auth-field">
            <label class="auth-label" for="signinEmail">Email</label>
            <input id="signinEmail" type="email" class="auth-input" autocomplete="email" required />
          </div>
          <div class="auth-field">
            <label class="auth-label" for="signinPassword">Password</label>
            <input id="signinPassword" type="password" class="auth-input" autocomplete="current-password" required />
          </div>
          <button type="submit" class="auth-btn">Sign In</button>
          <div class="auth-error" id="authError"></div>
          <div class="auth-footnote">
            Already joined? Use the email and password you created.
          </div>
        </form>

        <!-- Sign Up form (no Firebase wiring yet) -->
        <form id="authSignUpForm" class="auth-form" style="display:none;">
          <div class="auth-field">
            <label class="auth-label" for="signupDisplayName">Display Name (optional)</label>
            <input id="signupDisplayName" type="text" class="auth-input" placeholder="Name other men will see" />
          </div>
          <div class="auth-field">
            <label class="auth-label" for="signupEmail">Email</label>
            <input id="signupEmail" type="email" class="auth-input" autocomplete="email" required />
          </div>
          <div class="auth-field">
            <label class="auth-label" for="signupPassword">Password</label>
            <input id="signupPassword" type="password" class="auth-input" autocomplete="new-password" required />
          </div>
          <div class="auth-field">
            <label class="auth-label" for="signupPassword2">Confirm Password</label>
            <input id="signupPassword2" type="password" class="auth-input" autocomplete="new-password" required />
          </div>
          <div class="auth-field">
            <label class="auth-label" for="signupInvite">Invite Code</label>
            <input id="signupInvite" type="text" class="auth-input" placeholder="Enter your invite code" required />
          </div>
          <button type="submit" class="auth-btn">Create Account</button>
          <div class="auth-error" id="authErrorSignup"></div>
          <div class="auth-footnote">
            The real invite code is stored securely in Firebase, not in this page.
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    // THEME TOGGLE
    (function () {
      const root = document.documentElement;
      const toggle = document.getElementById('themeToggle');
      const stored = localStorage.getItem('forge-theme');

      if (stored === 'light' || stored === 'dark') {
        root.setAttribute('data-theme', stored);
      } else {
        root.setAttribute('data-theme', 'dark');
      }

      function updateIcon() {
        const theme = root.getAttribute('data-theme');
        const iconSpan = toggle.querySelector('.icon');
        if (theme === 'light') {
          iconSpan.textContent = '‚òÄÔ∏è';
        } else {
          iconSpan.textContent = 'üåô';
        }
      }

      updateIcon();

      toggle.addEventListener('click', () => {
        const current = root.getAttribute('data-theme') || 'dark';
        const next = current === 'dark' ? 'light' : 'dark';
        root.setAttribute('data-theme', next);
        localStorage.setItem('forge-theme', next);
        updateIcon();
      });
    })();

    // MOBILE NAV TOGGLE
    (function () {
      const hamburger = document.getElementById('hamburger');
      const mobileNav = document.getElementById('mobileNav');

      if (!hamburger || !mobileNav) return;

      function closeNav() {
        mobileNav.classList.remove('open');
        hamburger.classList.remove('is-open');
        hamburger.setAttribute('aria-expanded', 'false');
      }

      function openNav() {
        mobileNav.classList.add('open');
        hamburger.classList.add('is-open');
        hamburger.setAttribute('aria-expanded', 'true');
      }

      hamburger.addEventListener('click', () => {
        if (mobileNav.classList.contains('open')) {
          closeNav();
        } else {
          openNav();
        }
      });

      mobileNav.querySelectorAll('a').forEach((link) => {
        link.addEventListener('click', () => {
          closeNav();
        });
      });
    })();

    // YEAR IN FOOTER
    document.getElementById('year').textContent = new Date().getFullYear();

    // AUTH MODAL UI (no Firebase yet)
    (function () {
      const overlay = document.getElementById('authOverlay');
      const openBtn = document.getElementById('accountButton');
      const mobileOpenBtn = document.getElementById('mobileAccountButton');
      const closeBtn = document.getElementById('authCloseBtn');
      const toggleButtons = overlay.querySelectorAll('.auth-toggle-btn');
      const signInForm = document.getElementById('authSignInForm');
      const signUpForm = document.getElementById('authSignUpForm');
      const errorSignIn = document.getElementById('authError');
      const errorSignUp = document.getElementById('authErrorSignup');

      function openOverlay() {
        overlay.classList.add('open');
        overlay.setAttribute('aria-hidden', 'false');
      }

      function closeOverlay() {
        overlay.classList.remove('open');
        overlay.setAttribute('aria-hidden', 'true');
      }

      if (openBtn) openBtn.addEventListener('click', openOverlay);
      if (mobileOpenBtn) mobileOpenBtn.addEventListener('click', () => {
        closeNavIfOpen();
        openOverlay();
      });
      if (closeBtn) closeBtn.addEventListener('click', closeOverlay);

      overlay.addEventListener('click', (e) => {
        if (e.target === overlay) closeOverlay();
      });

      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && overlay.classList.contains('open')) {
          closeOverlay();
        }
      });

      function setMode(mode) {
        toggleButtons.forEach((btn) => {
          btn.classList.toggle('active', btn.dataset.mode === mode);
        });
        if (mode === 'signin') {
          signInForm.style.display = 'grid';
          signUpForm.style.display = 'none';
        } else {
          signInForm.style.display = 'none';
          signUpForm.style.display = 'grid';
        }
        errorSignIn.textContent = '';
        errorSignUp.textContent = '';
      }

      setMode('signin');

      toggleButtons.forEach((btn) => {
        btn.addEventListener('click', () => setMode(btn.dataset.mode));
      });

      // Temp behavior: show message instead of calling Firebase
      signInForm.addEventListener('submit', (e) => {
        e.preventDefault();
        errorSignIn.textContent = "Firebase sign-in isn't connected yet. This is just the UI.";
      });

      signUpForm.addEventListener('submit', (e) => {
        e.preventDefault();
        errorSignUp.textContent = "Firebase account creation isn't connected yet. This is just the UI.";
      });

      function closeNavIfOpen() {
        const mobileNav = document.getElementById('mobileNav');
        const hamburger = document.getElementById('hamburger');
        if (mobileNav && mobileNav.classList.contains('open')) {
          mobileNav.classList.remove('open');
        }
        if (hamburger && hamburger.classList.contains('is-open')) {
          hamburger.classList.remove('is-open');
          hamburger.setAttribute('aria-expanded', 'false');
        }
      }
    })();

    // PRAYER LIST DEMO (local only, no Firebase)
    (function () {
      const prayerListEl = document.getElementById('prayerList');
      const newPrayerForm = document.getElementById('newPrayerForm');
      const errorEl = document.getElementById('newPrayerError');

      // This sample data mimics what Firestore docs will look like later.
      // Each item would be a document in "prayers" with fields:
      // title, body, name (optional), createdAt (timestamp), ownerUid, prayerCount, prayedBy...
      const samplePrayers = [
        {
          id: 'p3',
          title: 'Wisdom in parenting',
          name: 'Anonymous brother',
          body: 'Asking for wisdom and patience in parenting my kids through a tough season. Pray that I lead with grace, strength, and consistency.',
          prayerCount: 4,
          createdAt: new Date()
        },
        {
          id: 'p2',
          title: 'Job interview on Thursday',
          name: 'Tristan',
          body: 'I have a job interview this Thursday morning. Please pray for clarity, peace, and favor ‚Äî that I would honor God no matter the outcome.',
          prayerCount: 7,
          createdAt: new Date()
        },
        {
          id: 'p1',
          title: 'Healing and rest',
          name: 'Anonymous brother',
          body: 'Been dealing with ongoing fatigue and some minor health issues. Nothing critical, but it is wearing me down. Praying for healing and renewed energy.',
          prayerCount: 3,
          createdAt: new Date()
        }
      ];

      function renderPrayer(prayer) {
        const card = document.createElement('article');
        card.className = 'prayer-card';
        card.dataset.id = prayer.id;

        card.innerHTML = `
          <div class="prayer-header">
            <div class="prayer-title">${prayer.title}</div>
            <div class="prayer-meta">
              <div>${prayer.name || 'Anonymous brother'}</div>
              <div>${prayer.createdAt.toLocaleDateString()}</div>
            </div>
          </div>
          <div class="prayer-body">
            ${prayer.body}
          </div>
          <div class="prayer-footer">
            <div class="prayer-count" data-count="${prayer.prayerCount}">
              ${prayer.prayerCount} men have prayed
            </div>
            <button type="button" class="btn btn-soft btn-pray">
              <span class="icon">üôè</span>
              <span>I'm praying</span>
            </button>
          </div>
        `;

        // Toggle open/closed when clicking the card (but not when clicking the button)
        card.addEventListener('click', (e) => {
          if (e.target.closest('.btn-pray')) return;
          card.classList.toggle('open');
        });

        // Local-only "I‚Äôm praying" button behavior
        const prayBtn = card.querySelector('.btn-pray');
        const countEl = card.querySelector('.prayer-count');

        prayBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          let count = Number(countEl.dataset.count || '0');
          count += 1;
          countEl.dataset.count = String(count);
          countEl.textContent = `${count} men have prayed`;
          // In the real version, auth.js will:
          // - Check the signed-in user (uid)
          // - Ensure each uid can only pray once per request
          // - Use a Firestore transaction to increment prayerCount
        });

        return card;
      }

      function renderInitial() {
        prayerListEl.innerHTML = '';
        samplePrayers.forEach((prayer) => {
          const card = renderPrayer(prayer);
          prayerListEl.appendChild(card);
        });
      }

      renderInitial();

      // Local-only submit handler just appends a new card to the top
      newPrayerForm.addEventListener('submit', (e) => {
        e.preventDefault();
        errorEl.textContent = '';

        const title = document.getElementById('prayerTitle').value.trim();
        const name = document.getElementById('prayerName').value.trim();
        const body = document.getElementById('prayerBody').value.trim();

        if (!title || !body) {
          errorEl.textContent = 'Title and details are required.';
          return;
        }

        const newPrayer = {
          id: 'local-' + Date.now(),
          title,
          name: name || 'Anonymous brother',
          body,
          prayerCount: 0,
          createdAt: new Date()
        };

        const card = renderPrayer(newPrayer);
        prayerListEl.insertBefore(card, prayerListEl.firstChild);

        newPrayerForm.reset();

        // In the real version, auth.js will:
        // - Require a signed-in user
        // - Write a new document in "prayers" with fields:
        //   title, body, name (optional), ownerUid, createdAt: serverTimestamp(), prayerCount: 0
        // - Firestore TTL will later auto-delete docs ~60 days after createdAt.
      });
    })();
  </script>
</body>
</html>
